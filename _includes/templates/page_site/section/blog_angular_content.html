{% comment %}<!--
  param in :
  common_param:
    id_section
    path_section
    html_section_class
    html_section_style
    list_param_template_section
    custom_path_items
  param out:
    add html

 -->{% endcomment %}

{% assign url_page_article='blog/index.html' %}

{% include coll_ext/extract/site_subsection.html 
  path_section=path_section
  custom_path_items= custom_path_items
%}

{% comment %}extract item_previous / item_next {% endcomment %}
{% include coll_ext/extract/item/from_all.html index=0 %}
{% include coll_ext/extract/item/next_previous_from_all.html 
  path_item = item.path
%}

{% comment %}extract last article on portfolio{% endcomment %}
{% include coll_ext/extract/item/from_all.html index=0 %}

{% comment %}AngularJs, ng-app="JekyllApp" add on layout{% endcomment %}
<article ng-controller="ContentCtrl" class="invArticle" >

  {% comment %}article header{% endcomment %}
  <header class="articleHeader intro-header box_no_bg invArticle">
    {% comment %}<div class="container-fluid">{% endcomment %}
      <div class="row">
        <div class="box">

        {% if box_no_bg_hide_img == 'true' %}
          {% comment %}<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">{% endcomment %}
          <div class="col-lg-10 col-lg-offset-1">
        {% else %}

          <div class="col-md-6">
            {% include templates/utils/extract/path_img_src.html 
              path_image=item.header_img
            %}
            <img class="img_header img-responsive img-border-left" src="{{path_img_src}}" alt="">
          </div>

          <div class="col-md-6">
        {% endif %}

            <div class="post-heading">
              <h1 class="heading">{{ item.title }}</h1>
              {% if item.description %}
                <h2 class="subheading">{{ item.description }}</h2>
              {% endif %}
              <span class="meta">Posted on <span class='date'> {{ item.date-publication | date: "%B %-d, %Y" }}</span></span>
            </div>
            
          </div>

        </div>
      </div>
    {% comment %}</div>{% endcomment %}
  </header>{% comment %} ./ article header{% endcomment %}

  {% comment %}Article Detail Content{% endcomment %}
  <div class="articleDetail row invArticle">

    <div class="articleContent col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
      {{ item.content }}       
    </div>

     <hr>

    <div class=" col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      
      <ul class="pager">

        {% comment %}previous item{% endcomment %}
        {% assign path_ref =item.path %}
        {% assign add_class = '' %}
        {% if item_previous != null %} 
          {% assign path_ref =item_previous.path %} 
        {% else %}           
          {% assign add_class = 'invPager' %}
        {% endif %}
        {% include coll_ext/utils/path/extract_path_url_detailed_article.html
           path_item=path_ref
           custom_path=custom_path_items
           url_page_article=url_page_article
        %} 
        <li class="previous {{add_class}}">
          <a href="{{url_detailed_article}}"  data-toggle="tooltip" data-selector="true" data-placement="top" title="{{item_previous.title}}">&larr; Previous Article</a>
        </li>

        {% comment %}next item{% endcomment %}
        {% assign path_ref =item.path %}
        {% assign add_class = '' %}
        {% if item_next != null %} 
          {% assign path_ref =item_next.path %} 
        {% else %}           
          {% assign add_class = 'invPager' %}
        {% endif %}
        {% include coll_ext/utils/path/extract_path_url_detailed_article.html
           path_item=path_ref
           custom_path=custom_path_items
           url_page_article=url_page_article
        %}
        <li class="next {{add_class}}">
          <a href="{{url_detailed_article}}" data-toggle="tooltip" data-selector="true" data-placement="top" title="{{item_next.title}}">Next Article &rarr;</a>
        </li>

      </ul>

    </div>
  </div>
  {% comment %} / .articleDetail {% endcomment %}

  {% comment %}Article List{% endcomment %}
  <div class="articleList row invArticle">
    <div class = "col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <search-blog></search-blog>
    </div>    
  </div>

</article>

{% comment %}        
<div class="post" ng-controller="SearchCtrl">         
    <input type="search" class="search" ng-model="query">
    <ul>
      <li ng-repeat="post in posts | filter:query ">
        <date ng-bind="post.date"></date>
        <a href="{% raw %}{{ post.url }}{% endraw %}" ng-bind="post.title"></a>
      </li>
    </ul>
</div>
{% endcomment %}
